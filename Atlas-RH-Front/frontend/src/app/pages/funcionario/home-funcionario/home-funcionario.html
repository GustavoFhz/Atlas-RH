<div class="container my-5">
  <!-- Topo: Cadastrar Funcionários -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="text-primary fw-bold mb-0">Lista de Funcionários</h2>
    <button class="btn btn-success shadow-sm" [routerLink]="['/cadastro-funcionario']">
      <i class="bi bi-person-plus me-1"></i> Cadastrar Funcionários
    </button>
  </div>
</div>

<!-- Campo de Pesquisa -->
<div class="mb-4">
  <div class="input-group shadow-sm">
    <span class="input-group-text bg-white border-end-0">
      <i class="bi bi-search"></i>
    </span>
    <input
      #inputField
      type="text"
      class="form-control border-start-0"
      placeholder="Pesquisar por cargo..."
      (input)="pesquisar(inputField.value)"
    />
  </div>
</div>

<!-- Tabela -->
<div class="table-responsive shadow-sm rounded">
  <table class="table table-hover table-bordered align-middle text-center mb-0">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>CPF</th>
        <th>Email</th>
        <th>Salário</th>
        <th>Departamento</th>
        <th>Cargo</th>
        <th>Ações</th>
      </tr>
    </thead>
    <tbody>
      <!-- Lista de Funcionários -->
      @if (funcionarios.length > 0) { @for (funcionario of funcionarios; track funcionario.id) {
      <tr>
        <td>{{ funcionario.id }}</td>
        <td>{{ funcionario.nome }}</td>
        <td>{{ funcionario.cpf }}</td>
        <td>{{ funcionario.email }}</td>
        <td>{{ funcionario.salario | currency : 'BRL' }}</td>
        <td>{{ funcionario.departamentoId }}</td>
        <td>{{ funcionario.cargoId }}</td>

        <td>
          <div class="d-flex justify-content-center gap-2">
            <button
              class="btn btn-warning btn-sm d-flex align-items-center"
              [routerLink]="['/editar-funcionario', funcionario.id]"
            >
              <i class="bi bi-pencil-square me-1"></i> Editar
            </button>
            <button
              class="btn btn-info btn-sm d-flex align-items-center"
              [routerLink]="['/detalhes-funcionario', funcionario.id]"
            >
              <i class="bi bi-file-earmark-text me-1"></i> Detalhes
            </button>

            <button
              class="btn btn-danger btn-sm d-flex align-items-center"
              (click)="remover(funcionario.id)"
            >
              <i class="bi bi-trash me-1"></i> Remover
            </button>
          </div>
        </td>
      </tr>
      } } @else {
      <tr>
        <td colspan="4" class="text-muted py-3">Nenhum funcionário cadastrado.</td>
      </tr>
      }
    </tbody>
  </table>
</div>
